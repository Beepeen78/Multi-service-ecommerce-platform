E-COMMERCE PLATFORM ARCHITECTURE
================================

┌─────────────────────────────────────────────────────────────────────────┐
│                           Client / User                                  │
└──────────────────────────────┬──────────────────────────────────────────┘
                                │
                                │ HTTPS/TLS
                                ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                    Ingress-NGINX (TLS Termination)                      │
│                    cert-manager (Let's Encrypt)                          │
└──────────────────────────────┬──────────────────────────────────────────┘
                                │
                                │ Internal Routing
                                ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                         Istio Service Mesh                              │
│                    (Traffic Management & Canary)                         │
└──────────────────────────────┬──────────────────────────────────────────┘
                                │
                ┌───────────────┼───────────────┐
                │               │               │
                ▼               ▼               ▼
    ┌──────────────────┐ ┌──────────────┐ ┌──────────────┐
    │  Auth Service     │ │ User Service │ │Product Service│
    │  Node.js/Express  │ │    Go        │ │ Node.js/Express│
    │  Postgres+Redis   │ │Postgres+Redis│ │ Postgres+Redis│
    └─────────┬─────────┘ └──────┬───────┘ └──────┬───────┘
              │                   │                │
              ▼                   ▼                ▼
    ┌──────────────────┐ ┌──────────────┐ ┌──────────────┐
    │  Cart Service     │ │Order Service │ │Payment Service│
    │  Node.js/Express  │ │    Go        │ │ Node.js/Express│
    │  Redis            │ │Postgres+Kafka│ │ Postgres+Redis│
    └─────────┬────────┘ └──────┬───────┘ └──────┬───────┘
              │                   │                │
              ▼                   ▼                ▼
    ┌──────────────────┐ ┌──────────────┐ ┌──────────────┐
    │Inventory Service │ │Notification  │ │Recommendation│
    │   Python/Flask   │ │   Service    │ │   Service    │
    │Postgres+Redis    │ │Python/Flask  │ │ Python/Flask│
    │                  │ │Postgres+Kafka│ │ Postgres+Redis│
    └──────────────────┘ └──────────────┘ └──────────────┘
              │                   │                │
              └───────────────────┼────────────────┘
                                  │
                    ┌─────────────┼─────────────┐
                    │             │             │
                    ▼             ▼             ▼
        ┌──────────────┐ ┌──────────┐ ┌──────────────┐
        │  PostgreSQL  │ │  Redis   │ │    Kafka     │
        │  (Primary DB)│ │ (Cache)   │ │  (Events)    │
        └──────────────┘ └──────────┘ └──────────────┘
                    │             │             │
                    └─────────────┼─────────────┘
                                  │
                    ┌─────────────┴─────────────┐
                    │                           │
                    ▼                           ▼
        ┌──────────────────────┐   ┌──────────────────────┐
        │   Prometheus         │   │      Loki             │
        │   (Metrics)          │   │   (Logs)              │
        └──────────────────────┘   └──────────────────────┘
                    │                           │
                    └─────────────┬─────────────┘
                                  │
                                  ▼
                        ┌──────────────────┐
                        │     Grafana      │
                        │  (Visualization) │
                        └──────────────────┘

REQUEST FLOW: User → Gateway → Service → Database → Events → Notification

